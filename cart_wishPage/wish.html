<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bathandbodyworks/cart</title>

    <link rel="icon" type="image/x-icon" href="https://d2pyicwmjx3wii.cloudfront.net/s/5f447e14285691dcc9bfcdf2/5f8d4b8aecff0cf1fd324ab5/webp/logo_logo-240x240.png">
    <script src="https://kit.fontawesome.com/24c494a6b6.js" crossorigin="anonymous" ></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Baloo+Chettan+2&family=Open+Sans&family=Poppins:wght@400;500&display=swap" rel="stylesheet">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Baloo+Chettan+2&family=Open+Sans&family=Poppins:wght@400;500&family=Raleway:wght@200&display=swap" rel="stylesheet">


<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<link rel="stylesheet" href="wish.css">


</head>


<body>


<!-- <--------------------------navbar--------------> 


<!-- <--------------------------WishList----------------------> 


 <div >  
    <a id="continueShoping" href="home.html">
    <img id="imglog" src="https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/on/demandware.static/Sites-BathAndBodyWorks-Site/-/default/dw4e5bed63/images/svg-icons/arrow-left-dark-grey.svg?yocs=o_s_" alt="left arrow"> 
     CONTINUE SHOPPING </a>
     

</div>

<!-- <---------------------------------shopping bag--------------------- -->

    <div id="shopping_bag" ><h1 class="shopping_bag_text">Shopping Bag</h1><div id="Black_Line1"></div></div>

<!-- <-------------------------------suggestion-------------------------> 

<div class="adjust">
    <!-- <p class="wait">WAIT! LET US RECOMMEND</p> -->
    <div class="suggestion"> </div>
  </div>
    
    
    </div>

    <!-- <---------------------------paypal & check out----------------- -->


        <div id="paycheck">
            <h2 id="IISB">ITEMS IN SHOPPING BAG</h2>
            <a id="paypal" href="paypal.html"><img src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/PP_logo_h_150x38.png" alt=""></a>
        <button id="checkoutbag" onclick="gotoPayment()"> <i class="fa-solid fa-lock"> <span>CHECKOUT</span></i></button>
        </div>



        <!-- <----------------------------ASAP para----------------->
            <div id="ASAP">
                <p class="ASAP" >Need it ASAP? Choose Pick Up In Store, and we'll typically have it ready for pickup within 4 hours.</p>
            </div>
            <div id="YSAPC">
                <p class="YSAPC">YOUR SHIPPING AND PICKUP CHOICES</p>
            </div>

            <!-- <--------------------------------two part-------------- -->
            <div>
                <div><i class="fa-solid fa-truck"></i> <span>  <b id="Bagcount"></b> <span class="Shoping_text">Items added for</span><b class="BShoping_text">Shipping</b></span> </div>
                <div><b><span>NEW!</span>PICK UP IN STORE</b> </div>
            </div>
 

<!-- <---------------------------item of cart------------------> 
    
    <main id="Cartvisi">
        <table>
          <thead>
            <tr>
              <th>ITEM</th>
              <th>PRICE</th>
              <th>QUANTITY</th>
              <th>TOTAL PRICE</th>
            </tr>
          </thead>
          <tbody id="Cartbody"></tbody>
        </table>
      </main>
      <button id="Updatebag" onclick="Updatebag()">UPDATE BAG </button>

<!-- <---------------------------couponCode------------------> 
    <div id="couponcode">
        <div class="couponcode1">
            <h2>PROMOTION CODE</h2>
            <h5>Only one code can be applied per order.</h5>
            <div>
                <input type="text" id="discount">
               
                <button onclick="discount()">APPLY</button>
            </div>


        </div>

        <div class="couponcode2">

            <!-- <div class="noflex"  >
            <p>MERCHANDISE SUBTOTAL</p>  <p id="MERCHANDISE_SUBTOTAL">0</p>
            </div>
            <div></div>
            <div></div>
            <div></div>
            <div></div> -->


            <table id="pricesummary">
                <thead>
                 <div>
                    <tr>
                        <td>MERCHANDISE SUBTOTAL</td>
                        <td id="MERCHANDISE_SUBTOTAL">0</td>
                     </tr>
                     <tr>
                       <td>ESTIMATED SHIPPING & HANDLING <span id="Standard">- Standard</span></td>
                       <td id="ESTIMATED">0</td>
                    </tr>
                    <tr>
                       <td>SALES TAX</td> 
                       <td id="SALES_TAX">10%</td>
                       <p>Tax is estimated and will be calculated when your order is processed.</p>
                    </tr>
                 </div>
                 <div class="MB_1"></div>
                 <tr>
                    <td>ORDERTOTAL</td> 
                    <td id="ORDER_TOTAL"></td>
                 </tr>
                 <div class="paycheck">
                    <a id="paypal" href="paypal.html"><img src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/PP_logo_h_150x38.png" alt=""></a>
                    <button id="checkoutbag" onclick="gotoPayment()"> <i class="fa-solid fa-lock"> <span>CHECKOUT</span></i></button>
                    <p>International Shoppers</p>
                    <p>All prices are displayed and processed in US dollars (USD).</p>
                 </div>
                </thead>
                <tbody id="Cartbody"></tbody>
              </table>


        </div>
    </div>
      

      <!-- <---------------------------item of wish------------------> 
    
    <main id="wishvisi">
        <table>
          <thead>
            <tr>
              <th>ITEM</th>
              <th>PRICE</th>
              <th>QUANTITY</th>
              <th>TOTAL PRICE</th>
            </tr>
          </thead>
          <tbody id="Wishbody"></tbody>
        </table>
      </main>


      <div class="adjust">
        <!-- <p class="wait">WAIT! LET US RECOMMEND</p> -->
        <div class="suggestion2"> </div>
      </div>

        <!-- <--------------------------------------------------------FOOTER--------------------------------------------------> 


</body>
</html>


<script>


// <---------------------------------------------------coupon-------------------------------------------->

 
 function discount(){
     event.preventDefault
    let coupon = document.querySelector("#discount").value ;

    if((coupon == "Masai30" )||(coupon == "masai30" )){

        
        


        var discop = Number(Math.round((totaORDER_TOTALdis*30)/100))
        console.log(discop,"discount coupon")

        var afterdis = Number(totaORDER_TOTALdis-discop);
        console.log(afterdis,"afer discount price:")
        // alert("Hurray!"+"\n"+"You got 30% Discount")
        document.querySelector("#discount").value= null ;

        sweetAlert("Hurray!", "You got 30% Discount"+"\n", "Sucess");
            SweetAlert.fire(
            'The Internet?',
            'That thing is still around?',
            'question',
            
            )

    }
  
        else{
            document.querySelector("#discount").value= null 
        sweetAlert("Invalid Coupon code", "Coupon code: Masai30"+"\n"+"   Coupon code: masai30", "error");
            SweetAlert.fire(
            'The Internet?',
            'That thing is still around?',
            'question',
            
            )
    }
    

 }


 









function GotoPaymentPage(){
    window.location.href="payment.html"
}
function Updatebag(){
    window.location.reload()
}



let products= [
    {
        id:1 ,
        image: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw9a65b2a6/hires/025144398.jpg?sh=400&q=75&yocs=o_s_",
        price1:"$112.00",
        price2:112.00 ,
        titel:"LIMITED EDITION",
        description: "Spring Gift Bundle",
        offer:"$40 Gift with $40 Purchase" ,

    },
    {
        id: 2,
        image: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwc0529211/hires/026439076.jpg?sh=471&yocs=o_s_",
        price1:"$16.50",
        price2:16.50 ,
        titel:"LAVENDER MINT TEA",
        description: "Moisturizing Body Lotion",
        offer:"Mix & Match: Buy 3, Get 3 Free or Buy 2, Get 1 Free",
    },
    {
        id:3 ,
        image: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw5518c3d6/hires/026353210.jpg?sh=471&yocs=o_s_",
        price1:"$15.50",
        price2:15.50 ,
        titel:"EUCALYPTUS SPEARMINT",
        description: "Moisturizing Body Lotion",
        offer:"Mix & Match: Buy 3, Get 3 Free or Buy 2, Get 1 Free",
    },
    {
        id: 4,
        image: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw5f145177/hires/026353220.jpg?sh=400&q=75&yocs=o_s_",
        price1:"$16.50",
        price2:16.50 ,
        titel:"Eucalyptus Spearmint",
        description: "Moisturizing Body Wash",
        offer:"Mix & Match: Buy 3, Get 3 Free or Buy 2, Get 1 Free",
    },
    // {
    //     id:5 ,
    //     image: "",
    //     price1:"$17.50",
    //     price2:17.50 ,
    //     titel:"Lavender Mint Tea",
    //     description: "Ultimate Hydration Body Cream",
    // },
    // {
    //     id:6 ,
    //     image: "",
    //     price1:"$",
    //     price2: ,
    //     titel:"",
    //     description: "",
    // },
    // {
    //     id:7 ,
    //     image: "",
    //     price1:"$14.50",
    //     price2:14.50 ,
    //     titel:"Eucalyptus Spearmint",
    //     description: "Essential Oil Mist",
    // },
    
    // {
    //     id: 8,
    //     image: "",
    //     price1:"$",
    //     price2: ,
    //     titel:"",
    //     description: "",
    // },
]


var cartData = JSON.parse(localStorage.getItem("cart"))||[];
var wishData= JSON.parse(localStorage.getItem("wish")) || [];  


products.map(function(ele){
          let box =document.createElement("div");
          box.setAttribute("class","suggestion_box")

          let img = document.createElement("img")
          img.setAttribute("class","suggestion_img")
              img.src=ele.image;
              img.addEventListener("click",function(){
                   outLook()
              })
               
              
          let title = document.createElement("h4")
              title.innerText= ele.titel ;
              title.setAttribute("id","suggestion_title")
          
              let description= document.createElement("p")
              description.innerText= ele.description ;
              description.setAttribute("id","suggestion_description")

              let price= document.createElement("h4")
              price.innerText= ele.price1 ;
              price.setAttribute("class","suggestion_price")

              let offer= document.createElement("p")
              offer.innerText= ele.offer ;
              offer.setAttribute("id","suggestion_offer")


          var btn = document.createElement("button")
              btn.innerText="ðŸ›’"
              btn.setAttribute("class","btn-cw","trans")
              btn.addEventListener("click",function (){
                  addTocart(ele)
              });
          
          var btn2 = document.createElement("button")
          btn2.setAttribute("class","btn-cw","trans")
            btn2.innerText="QUICKLOOK"
            btn2.addEventListener("click",function (){
                QUICKLOOK(ele)
              });
           
            
            
  
           box.append(img,title,description,price,offer,btn,btn2)
          document.querySelector(".suggestion").append(box)
      })





      products.map(function(ele){
          let box =document.createElement("div");
          box.setAttribute("class","suggestion_box")

          let img = document.createElement("img")
          img.setAttribute("class","suggestion_img")
              img.src=ele.image;
              img.addEventListener("click",function(){
                   outLook()
              })
               
              
          let title = document.createElement("h4")
              title.innerText= ele.titel ;
              title.setAttribute("id","suggestion_title")
          
              let description= document.createElement("p")
              description.innerText= ele.description ;
              description.setAttribute("id","suggestion_description")

              let price= document.createElement("h4")
              price.innerText= ele.price1 ;
              price.setAttribute("class","suggestion_price")

              let offer= document.createElement("p")
              offer.innerText= ele.offer ;
              offer.setAttribute("id","suggestion_offer")


          var btn = document.createElement("button")
              btn.innerText="ðŸ›’"
              btn.setAttribute("class","btn-cw","trans")
              btn.addEventListener("click",function (){
                  addTocart(ele)
              });
          
          var btn2 = document.createElement("button")
          btn2.setAttribute("class","btn-cw","trans")
            btn2.innerText="QUICKLOOK"
            btn2.addEventListener("click",function (){
                QUICKLOOK(ele)
              });
           
            
            
  
           box.append(img,title,description,price,offer,btn,btn2)
          document.querySelector(".suggestion2").append(box)
      })


      function addTocart(ele){
          var products= JSON.parse(localStorage.getItem("cart")) || []; //cart
          console.log(ele)
          products.push(ele)
          localStorage.setItem("cart",JSON.stringify(products))
          window.location.reload()

      }

    //  <---------------------------------------------- mapinsidecart-------------------------------------->

    cartData.map(function (elem, index) {

    let box = document.createElement("tr");
    box.setAttribute("id","tr_box")
//    ------------1-----------
        var items1 = document.createElement("div")
            items1.setAttribute("id","conitem")

    var img = document.createElement("img");
     
  
    img.setAttribute("class","suggestion_img")
    img.src = elem.image;
    img.style.marginRight="10%"

    var items2 = document.createElement("div")
            items2.setAttribute("id","item2")
    

    let name = document.createElement("p");
        name.setAttribute("id","itemname")
    name.textContent = elem.titel;
    let des = document.createElement("p");
        des.setAttribute("id","itemname")
    des.textContent = elem.description;
    let offer = document.createElement("p");
        offer.setAttribute("id","offer")
    offer.textContent = elem.offer;
    let promo = document.createElement("p");
        promo.setAttribute("id","promo")
    promo.textContent = "Promotional details";

    // let promoiner = 
    // document.createElement("p");
    //     promoiner.setAttribute("id","promoiner")
    // promoiner.innerText = "In Stores & Online - Buy 3, Get 3 Free All Full-Size Body Care on May 5, 2022 at 6:00 AM ET to May 8, 2022 at 5:59 AM ET" 
    //                         "Valid on bathandbodyworks.com. No code required. Must add 6 items to bag. Shipping and handling apply to free items. Free"
    //                          "items are the 3 lowest priced items in each set of 6. Price of free items will be prorated as a discount across all items. Single item purchases are at regular price. This offer is not valid toward previous purchases. Offer subject to adjustment due to returns, cancellations and exchanges. Refer to the return policy for more information. No rain checks issued. Other restrictions may apply. Offer subject to change without notice. Selection may vary by store and online.â€‹";
    let btnwish = document.createElement("button")
            btnwish.setAttribute("class","cartwish")
              btnwish.innerText="â¤ï¸"+"Add to My Love-It list"
              btnwish.addEventListener("click",function (){
                    addToWishlist(elem)
                });

    // -------------td2--------------------


    var price = document.createElement("td");
    price.innerText = elem.price1;
    price.setAttribute("id","net") ;

    // -------------td3--------------------
    let qty = document.createElement("td");
    let qtydiv = document.createElement("div");
    qtydiv.setAttribute("id","qtydiv")

    
    

        // minus- start here------->


        var btnmins  = document.createElement("button")
            btnmins.setAttribute("id","minscount")
            btnmins.innerText= "âˆ’"
            btnmins.addEventListener("onclick",function(){ 
                count++ ;
            console.log(count);
            })

        var displaycount = document.createElement("div")
            displaycount.setAttribute("class","displayMe")
           
        
            

            var btnplus  =document.createElement("button")
            btnplus.setAttribute("id","pluscount")
            btnplus.innerText= "+"
            btnplus.addEventListener("click",function(){
                countplus()
           
         })


            // minus endshere-------------------------->

         let available = document.createElement("p");
         available.setAttribute("id","promo")
         available.textContent = "Available";
          

// -----------------------totalprice-------------------------------
            
 
    let grosstotal = document.createElement("td");

    let devsec= document.createElement("dic");
        devsec.setAttribute("id","devsec")
        grosstotal.setAttribute("id","gross") ;

        grosstotal.innerText= "$"+ elem.price2;

        console.log(grosstotal,displaycount.innerText) 



        let rbtn = document.createElement("button");
            rbtn.innerText = "X";
            rbtn.setAttribute("id","Remove-1")

            rbtn.addEventListener("click", function () {
              removeItem(elem, index);
            });

       
    //    appending--------------here------------------>

    qtydiv.append(btnmins,displaycount,btnplus)
    qty.append(qtydiv,available)
    items2.append(name,des,offer,promo,btnwish)
    items1.append(img,items2)
   devsec.append(grosstotal,rbtn)
    box.append(items1,price,qty,devsec );
    document.querySelector("#Cartbody").append(box);

    
  });


// <-----------------------------------------wishData-------------------------------------->

  wishData.map(function (elem, index) {

let box = document.createElement("tr");
box.setAttribute("id","tr_box")
//    ------------1-----------
    var items1 = document.createElement("div")
        items1.setAttribute("id","conitem")

var img = document.createElement("img");
 

img.setAttribute("class","suggestion_img")
img.src = elem.image;
img.style.marginRight="10%"

var items2 = document.createElement("div")
        items2.setAttribute("id","item2")


let name = document.createElement("p");
    name.setAttribute("id","itemname")
name.textContent = elem.titel;
let des = document.createElement("p");
    des.setAttribute("id","itemname")
des.textContent = elem.description;
let offer = document.createElement("p");
    offer.setAttribute("id","offer")
offer.textContent = elem.offer;
let promo = document.createElement("p");
    promo.setAttribute("id","promo")
promo.textContent = "Promotional details";

let btnwish = document.createElement("button")
        btnwish.setAttribute("class","cartwish")
          btnwish.innerText="â¤ï¸"+"Add to My Love-It list"
          btnwish.addEventListener("click",function (){
                addToWishlist(elem)
            });

// -------------td2--------------------


var price = document.createElement("td");
price.innerText = elem.price1;
price.setAttribute("id","net") ;

// -------------td3--------------------
let qty = document.createElement("td");
let qtydiv = document.createElement("div");
qtydiv.setAttribute("id","qtydiv")




    // minus- start here------->


    var btnmins  = document.createElement("button")
        btnmins.setAttribute("id","minscount")
        btnmins.innerText= "âˆ’"
        btnmins.addEventListener("onclick",function(){ 
            count++ ;
        console.log(count);
        })

    var displaycount = document.createElement("div")
        displaycount.setAttribute("class","displayMe")
       
    
        

        var btnplus  =document.createElement("button")
        btnplus.setAttribute("id","pluscount")
        btnplus.innerText= "+"
        btnplus.addEventListener("click",function(){
            countplus()
       
     })


        // minus endshere-------------------------->

     let available = document.createElement("p");
     available.setAttribute("id","promo")
     available.textContent = "Available";
      

// -----------------------totalprice-------------------------------
        

let grosstotal = document.createElement("td");

let devsec= document.createElement("dic");
    devsec.setAttribute("id","devsec")
    grosstotal.setAttribute("id","gross") ;

    grosstotal.innerText= "$"+ elem.price2;

    console.log(grosstotal,displaycount.innerText) 



    let rbtn = document.createElement("button");
        rbtn.innerText = "X";
        rbtn.setAttribute("id","Remove-1")

        rbtn.addEventListener("click", function () {
          removeItem(elem, index);
        });

   
//    appending--------------here------------------>

qtydiv.append(btnmins,displaycount,btnplus)
qty.append(qtydiv,available)
items2.append(name,des,offer,promo,btnwish)
items1.append(img,items2)
devsec.append(grosstotal,rbtn)
box.append(items1,price,qty,devsec );
document.querySelector("#Wishbody").append(box);


});

//   Remove function & data added for next page-------------------------------------------------------------->

  function removeItem(elem, index) {

    count-- ;
    console.log(elem, index);
    cartData.splice(index, 1);
    console.log(cartData);
    localStorage.setItem("cart", JSON.stringify(cartData));
    window.location.reload();
    
  }

  // wishlis add--------------------------------------------------------------------------------------------->

  function addToWishlist(ele){
            
            // alert("Product added Sucessfully Into The Cart ðŸ’›")
           
            console.log(ele)
            wishData.push(ele)
            localStorage.setItem("wish",JSON.stringify(wishData))

            window.location.reload();
               
            

        }

        var count = 0;

        // function countplus(){
            
        //     count++ ;
        //     console.log(count);
        // }
        function countmins (){
            
            count-- ;
            console.log(count);
        }





        //   Calculation---------------------------------------------------------------------------------->

  var total = cartData.reduce(function (sum, elem, index, arr) {
    return sum + Number(elem.price2);
  }, 0);


  var length = cartData.length; 
  console.log(length);
  let ESTIMATED = Number((length*2.50))
  console.log(ESTIMATED)
  let SALES_Total= Number((total)+(ESTIMATED))
  let SALES_TAX = Number(Math.round((SALES_Total*10)/100))
  console.log(SALES_TAX,"st")

  let ORDER_TOTAL = Number(total)+ Number(ESTIMATED)+ Number(SALES_TAX)
  console.log(ORDER_TOTAL,"or")
  



 
//  Display Calculation---------------------------------------------------------------------------------->
  var cartcoutup= document.querySelector("#Bagcount").innerText = `${length}`
  var totaldis = document.querySelector("#MERCHANDISE_SUBTOTAL").innerText = ` ${total}`;
  var ESTIMATEDdis = document.querySelector("#ESTIMATED").innerText = ` ${ESTIMATED}`;
  var SALES_TAXdis = document.querySelector("#SALES_TAX").innerText = ` ${SALES_TAX}`;
  var totaORDER_TOTALdis = document.querySelector("#ORDER_TOTAL").innerText = ` ${ORDER_TOTAL}`;







// <-----------------------------------------paypal-------------------->







</script>